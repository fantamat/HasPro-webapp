{% extends 'base.html' %}
{% load i18n %}
{% block content %}

<h1>{% trans "Welcome to HasPro" %}</h1>

<div class="info-grid">
    <!-- User Information -->
    <div class="info-card">
        <h3>{% trans "User Information" %}</h3>
        <table class="info-table">
            <tr>
                <td><strong>{% trans "Username:" %}</strong></td>
                <td>{{ user.username }}</td>
            </tr>
            <tr>
                <td><strong>{% trans "Email:" %}</strong></td>
                <td>{{ user.email|default:_("Not provided") }}</td>
            </tr>
            <tr>
                <td><strong>{% trans "First Name:" %}</strong></td>
                <td>{{ user.first_name|default:_("Not provided") }}</td>
            </tr>
            <tr>
                <td><strong>{% trans "Last Name:" %}</strong></td>
                <td>{{ user.last_name|default:_("Not provided") }}</td>
            </tr>
            <tr>
                <td><strong>{% trans "Phone:" %}</strong></td>
                <td>{{ user.phone|default:_("Not provided") }}</td>
            </tr>
            <tr>
                <td><strong>{% trans "Technician ID:" %}</strong></td>
                <td>{{ user.technicianID|default:_("Not assigned") }}</td>
            </tr>
            <tr>
                <td><strong>{% trans "Current Project:" %}</strong></td>
                <td>{{ user.current_project.name|default:_("No project assigned") }}</td>
            </tr>
        </table>
    </div>

    <!-- Project Permissions -->
    <div class="info-card">
        <h3>{% trans "Project Permissions" %}</h3>
        {% if permissions %}
            <table class="info-table">
                <tr>
                    <td><strong>{% trans "Project:" %}</strong></td>
                    <td>{{ permissions.project.name }}</td>
                </tr>
                <tr>
                    <td><strong>{% trans "Can View:" %}</strong></td>
                    <td>
                        <span class="permission-badge {% if permissions.can_view %}granted{% else %}denied{% endif %}">
                            {% if permissions.can_view %}✓ {% trans "Yes" %}{% else %}✗ {% trans "No" %}{% endif %}
                        </span>
                    </td>
                </tr>
                <tr>
                    <td><strong>{% trans "Can Edit:" %}</strong></td>
                    <td>
                        <span class="permission-badge {% if permissions.can_edit %}granted{% else %}denied{% endif %}">
                            {% if permissions.can_edit %}✓ {% trans "Yes" %}{% else %}✗ {% trans "No" %}{% endif %}
                        </span>
                    </td>
                </tr>
                <tr>
                    <td><strong>{% trans "Is Admin:" %}</strong></td>
                    <td>
                        <span class="permission-badge {% if permissions.is_admin %}granted{% else %}denied{% endif %}">
                            {% if permissions.is_admin %}✓ {% trans "Yes" %}{% else %}✗ {% trans "No" %}{% endif %}
                        </span>
                    </td>
                </tr>
                <tr>
                    <td><strong>{% trans "Added:" %}</strong></td>
                    <td>{{ permissions.added_at|date:"M j, Y" }}</td>
                </tr>
            </table>
        {% else %}
            <p class="no-data">{% trans "No project permissions found." %}</p>
        {% endif %}
    </div>

    <!-- Company Information -->
    <div class="info-card">
        <h3>{% trans "Company Information" %}</h3>
        {% if company %}
            <table class="info-table">
                <tr>
                    <td><strong>{% trans "Name:" %}</strong></td>
                    <td>{{ company.name }}</td>
                </tr>
                <tr>
                    <td><strong>{% trans "Address:" %}</strong></td>
                    <td>{{ company.address }}</td>
                </tr>
                <tr>
                    <td><strong>{% trans "City:" %}</strong></td>
                    <td>{{ company.city }}</td>
                </tr>
                <tr>
                    <td><strong>{% trans "ZIP Code:" %}</strong></td>
                    <td>{{ company.zipcode }}</td>
                </tr>
                <tr>
                    <td><strong>{% trans "IČO:" %}</strong></td>
                    <td>{{ company.ico }}</td>
                </tr>
                <tr>
                    <td><strong>{% trans "DIČ:" %}</strong></td>
                    <td>{{ company.dic }}</td>
                </tr>
                <tr>
                    <td><strong>{% trans "Logo:" %}</strong></td>
                    <td>
                        {% if company.logo %}
                            <img src="{{ company.logo.url }}" alt="{% trans 'Company Logo' %}" class="company-logo-small">
                        {% else %}
                            {% trans "No logo uploaded" %}
                        {% endif %}
                    </td>
                </tr>
            </table>
        {% else %}
            <p class="no-data">{% trans "No company information available." %}</p>
        {% endif %}
    </div>
</div>

<p class="welcome-message">{% trans "Use the navigation menu to manage building owners, buildings, fire extinguishers, and tools." %}</p>

{% endblock %}  